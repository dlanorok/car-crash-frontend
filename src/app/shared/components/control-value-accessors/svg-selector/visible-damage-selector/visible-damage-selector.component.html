<div></div>
<div class="scrollable w-100 h-100">
  <div class="flex h-100 justify-content-center">
    <div class="w-100" style="align-self: center">
      <svg
        [class.smaller]="step !== 0"
        style="display: block"
        #svgImage id="damaged-parts" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 235 300">
        <defs>
          <style>
            .cls-1 {
              fill: #fff;
              opacity: .6;
              stroke-width: 0px;
            }
          </style>
        </defs>
        <g id="car">
          <path *ngIf="selectedParts | includes : 'front_hood'" data-name="front hood" class="cls-1"
                style="opacity: 1"
                d="m72.89,74.26c10.44-10.9,30.03-11.96,44.36-12.16,14.53.19,35.79,1.34,45.49,13.53-1.38-9.81-3.18-19.81-6.25-29.27-3.65-10.2-8.27-20.38-12.86-30.11h-52.76c-4.81,10.3-9.79,21-13.41,31.85-2.73,8.97-4.4,18.27-5.69,27.54.35-.47.73-.93,1.13-1.37Z"/>
          <path id="front_hood" data-name="front hood" class="cls-1"
                d="m72.89,74.26c10.44-10.9,30.03-11.96,44.36-12.16,14.53.19,35.79,1.34,45.49,13.53-1.38-9.81-3.18-19.81-6.25-29.27-3.65-10.2-8.27-20.38-12.86-30.11h-52.76c-4.81,10.3-9.79,21-13.41,31.85-2.73,8.97-4.4,18.27-5.69,27.54.35-.47.73-.93,1.13-1.37Z"/>

          <path *ngIf="selectedParts | includes : 'front_windshield'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m70.81,83.68c2.96,14.76,6.31,31.19,9.98,46.03,11.74-3.81,24.21-4.89,36.46-5.78,12.25.88,24.72,1.97,36.46,5.78,1.83-7.34,3.45-14.74,5.05-22.14,2.53-11.82,4.66-22.52,4.93-23.89l-.19-1.84c-1.18-5.37-8.07-17.74-46.25-17.74-39.13.38-45.63,11.97-46.44,19.58Z"/>
          <path id="front_windshield" data-name="front windshield" class="cls-1"
                d="m70.81,83.68c2.96,14.76,6.31,31.19,9.98,46.03,11.74-3.81,24.21-4.89,36.46-5.78,12.25.88,24.72,1.97,36.46,5.78,1.83-7.34,3.45-14.74,5.05-22.14,2.53-11.82,4.66-22.52,4.93-23.89l-.19-1.84c-1.18-5.37-8.07-17.74-46.25-17.74-39.13.38-45.63,11.97-46.44,19.58Z"/>

          <path *ngIf="selectedParts | includes : 'left_front_doors'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m81.5,177.67c-.63-16.22-1.75-33.94-2.41-46.49-3.08-11.86-8.57-38.51-10.12-46.45h-9.93c.45,34.23,1.61,65.46.7,92.94h21.75Z"/>
          <path id="left_front_doors" data-name="left front doors" class="cls-1"
                d="m81.5,177.67c-.63-16.22-1.75-33.94-2.41-46.49-3.08-11.86-8.57-38.51-10.12-46.45h-9.93c.45,34.23,1.61,65.46.7,92.94h21.75Z"/>

          <path *ngIf="selectedParts | includes : 'front_bumper'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m90.67,14.24h53.14l2.01-2.13c-5.99-2.36-11.55-3.2-12.19-3.29h-32.77c-.64.09-6.2.93-12.19,3.29l.03.03,1.97,2.1Z"/>
          <path id="front_bumper" data-name="front bumper" class="cls-1"
                d="m90.67,14.24h53.14l2.01-2.13c-5.99-2.36-11.55-3.2-12.19-3.29h-32.77c-.64.09-6.2.93-12.19,3.29l.03.03,1.97,2.1Z"/>

          <path *ngIf="selectedParts | includes : 'left_front_bumper'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m72.53,41.3c-.15.24-2.75,4.2-14.15,15.13.19,6.62.41,15.92.63,26.3h9.82c.03-.34.09-.76.19-1.23h0c1.33-11.51,3.2-23.03,6.57-34.14,3.32-10.13,9.16-22.82,13.45-31.93-.34-.36-1.96-2.09-2.33-2.48-1.62.72-3.12,1.51-4.48,2.36l2.77,2.08-12.46,23.91Z"/>
          <path id="left_front_bumper" data-name="left front bumper" class="cls-1"
                d="m72.53,41.3c-.15.24-2.75,4.2-14.15,15.13.19,6.62.41,15.92.63,26.3h9.82c.03-.34.09-.76.19-1.23h0c1.33-11.51,3.2-23.03,6.57-34.14,3.32-10.13,9.16-22.82,13.45-31.93-.34-.36-1.96-2.09-2.33-2.48-1.62.72-3.12,1.51-4.48,2.36l2.77,2.08-12.46,23.91Z"/>

          <path *ngIf="selectedParts | includes : 'right_front_bumper'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m145.47,15.46c4.92,10.59,9.84,20.97,13.61,32.45,3.22,10.85,5.06,22.09,6.37,33.31l.04.04c0,.49.16,1.08.18,1.47h9.82c.21-10.34.43-19.56.62-26.31-11.4-10.93-13.99-14.89-14.1-15.05l-12.5-23.98,2.77-2.09c-1.37-.85-2.87-1.64-4.48-2.36l-2.34,2.48s.01.02.01.03Z"/>
          <path id="right_front_bumper" data-name="right front bumper" class="cls-1"
                d="m145.47,15.46c4.92,10.59,9.84,20.97,13.61,32.45,3.22,10.85,5.06,22.09,6.37,33.31l.04.04c0,.49.16,1.08.18,1.47h9.82c.21-10.34.43-19.56.62-26.31-11.4-10.93-13.99-14.89-14.1-15.05l-12.5-23.98,2.77-2.09c-1.37-.85-2.87-1.64-4.48-2.36l-2.34,2.48s.01.02.01.03Z"/>

          <path *ngIf="selectedParts | includes : 'left_outside_mirror'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m51.52,108.41c-1.24-.7-2.69-.87-4.05-.49-1.47.41-4.44,1.89-7.06,3.82-3.13,2.31-3.99,3.99-3.79,4.73.73,2.56,11.8,2.52,13.71,1.72,4.52-1.18,5.3-7.55,1.19-9.78Z"/>
          <path id="left_outside_mirror" data-name="left outside mirror" class="cls-1"
                d="m51.52,108.41c-1.24-.7-2.69-.87-4.05-.49-1.47.41-4.44,1.89-7.06,3.82-3.13,2.31-3.99,3.99-3.79,4.73.73,2.56,11.8,2.52,13.71,1.72,4.52-1.18,5.3-7.55,1.19-9.78Z"/>

          <path *ngIf="selectedParts | includes : 'left_front_lamp'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m58.3,53.73c10.05-9.74,12.48-13.4,12.5-13.44l11.63-22.32-1.97-1.48c-11.14,9.18-22.91,15.48-22.16,37.24Z"/>
          <path id="left_front_lamp" data-name="left front lamp" class="cls-1"
                d="m58.3,53.73c10.05-9.74,12.48-13.4,12.5-13.44l11.63-22.32-1.97-1.48c-11.14,9.18-22.91,15.48-22.16,37.24Z"/>

          <path *ngIf="selectedParts | includes : 'rear_windshield'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m85.09,252.94c.65,12.45,9.6,19.32,26.62,20.5,12.41,1.11,27.55-1.58,32.78-7.97,5.56-5.92,5.07-13.43,4.84-17.65l-.1.04.03-1.11c-4.66-5.13-11.75-6.91-18.5-6.85,0,0-27.03,0-27.03,0-6.76-.06-13.85,1.73-18.51,6.87-.02.61-.05,1.16-.09,1.8h0s0,.02,0,.03l-.02.43h0c-.03,1.07-.04,2.42-.02,3.91Z"/>
          <path id="rear_windshield" data-name="rear windshield" class="cls-1"
                d="m85.09,252.94c.65,12.45,9.6,19.32,26.62,20.5,12.41,1.11,27.55-1.58,32.78-7.97,5.56-5.92,5.07-13.43,4.84-17.65l-.1.04.03-1.11c-4.66-5.13-11.75-6.91-18.5-6.85,0,0-27.03,0-27.03,0-6.76-.06-13.85,1.73-18.51,6.87-.02.61-.05,1.16-.09,1.8h0s0,.02,0,.03l-.02.43h0c-.03,1.07-.04,2.42-.02,3.91Z"/>

          <path *ngIf="selectedParts | includes : 'roof'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m150.96,178.64c.6-16.13,1.68-32.89,2.41-46.92-11.57-3.84-24.05-4.86-36.12-5.78-11.88.9-24.67,1.97-36.12,5.78,2.28,34.45,3.42,77.7,4.04,112.29,5.01-4.56,11.91-6.13,18.56-6.1,0,0,27.03,0,27.03,0,6.65-.03,13.55,1.54,18.57,6.1.42-18.87.93-44.83,1.63-65.36Z"/>
          <path id="roof" class="cls-1"
                d="m150.96,178.64c.6-16.13,1.68-32.89,2.41-46.92-11.57-3.84-24.05-4.86-36.12-5.78-11.88.9-24.67,1.97-36.12,5.78,2.28,34.45,3.42,77.7,4.04,112.29,5.01-4.56,11.91-6.13,18.56-6.1,0,0,27.03,0,27.03,0,6.65-.03,13.55,1.54,18.57,6.1.42-18.87.93-44.83,1.63-65.36Z"/>

          <path *ngIf="selectedParts | includes : 'right_front_doors'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m165.52,84.73c-2.5,12.49-6.68,32.85-10.12,46.45-.62,11.87-1.76,29.88-2.41,46.49h21.74c-.9-27.37.21-56.56.71-92.94h-9.93Z"/>
          <path id="right_front_doors" data-name="right front doors" class="cls-1"
                d="m165.52,84.73c-2.5,12.49-6.68,32.85-10.12,46.45-.62,11.87-1.76,29.88-2.41,46.49h21.74c-.9-27.37.21-56.56.71-92.94h-9.93Z"/>

          <path *ngIf="selectedParts | includes : 'right_front_lamp'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m163.74,40.37h0s2.46,3.67,12.45,13.35c.75-21.77-11.01-28.05-22.15-37.24l-1.97,1.48,11.67,22.4Z"/>
          <path id="right_front_lamp" data-name="right front lamp" class="cls-1"
                d="m163.74,40.37h0s2.46,3.67,12.45,13.35c.75-21.77-11.01-28.05-22.15-37.24l-1.97,1.48,11.67,22.4Z"/>

          <path *ngIf="selectedParts | includes : 'left_rear_doors'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m83.04,238.36c-.36-16.5-.84-39.68-1.47-58.69h-21.91c-.77,17.5-1.85,36.11-1.79,55.07l25.31,10.12c-.04-1.57-.09-3.78-.15-6.51Z"/>
          <path id="left_rear_doors" data-name="left rear doors" class="cls-1"
                d="m83.04,238.36c-.36-16.5-.84-39.68-1.47-58.69h-21.91c-.77,17.5-1.85,36.11-1.79,55.07l25.31,10.12c-.04-1.57-.09-3.78-.15-6.51Z"/>

          <path *ngIf="selectedParts | includes : 'right_rear_bumper'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m151.42,247.51c.45,15.03-1.26,30.95-9.17,44.06,3.91-.61,7.47-1.46,10.73-2.55-1.62-27.45,20.15-36.38,23.13-37.46.28-4.36.44-9.22.49-14.63l-25.21,10.09c0,.15.02.31.03.49Z"/>
          <path id="right_rear_bumper" data-name="right rear bumper" class="cls-1"
                d="m151.42,247.51c.45,15.03-1.26,30.95-9.17,44.06,3.91-.61,7.47-1.46,10.73-2.55-1.62-27.45,20.15-36.38,23.13-37.46.28-4.36.44-9.22.49-14.63l-25.21,10.09c0,.15.02.31.03.49Z"/>

          <path *ngIf="selectedParts | includes : 'right_outside_mirror'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m194.09,111.74c-2.62-1.93-5.59-3.41-7.06-3.82-1.36-.38-2.81-.21-4.05.49-4.1,2.23-3.33,8.6,1.19,9.78,1.92.8,12.96.84,13.71-1.72.21-.74-.66-2.42-3.79-4.73Z"/>
          <path id="right_outside_mirror" data-name="right outside mirror" class="cls-1"
                d="m194.09,111.74c-2.62-1.93-5.59-3.41-7.06-3.82-1.36-.38-2.81-.21-4.05.49-4.1,2.23-3.33,8.6,1.19,9.78,1.92.8,12.96.84,13.71-1.72.21-.74-.66-2.42-3.79-4.73Z"/>

          <path *ngIf="selectedParts | includes : 'right_rear_doors'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m174.82,179.67h-21.9c-.69,20.63-1.2,46.6-1.62,65.19,6.31-2.53,19.02-7.61,25.32-10.14.06-18.95-1.03-37.55-1.8-55.06Z"/>
          <path id="right_rear_doors" data-name="right rear doors" class="cls-1"
                d="m174.82,179.67h-21.9c-.69,20.63-1.2,46.6-1.62,65.19,6.31-2.53,19.02-7.61,25.32-10.14.06-18.95-1.03-37.55-1.8-55.06Z"/>

          <path *ngIf="selectedParts | includes : 'left_rear_bumper'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m91.55,290.21c-6.99-12.49-8.71-27.65-8.42-41.69h0c.02-.62.04-1.12.06-1.49l-25.3-10.12c.05,5.46.23,10.49.53,15.02,5.04,2.09,23.58,11.55,22.23,36.82,3.5,1.24,7.35,2.18,11.71,2.86-.27-.46-.55-.92-.81-1.39Z"/>
          <path id="left_rear_bumper" data-name="left rear bumper" class="cls-1"
                d="m91.55,290.21c-6.99-12.49-8.71-27.65-8.42-41.69h0c.02-.62.04-1.12.06-1.49l-25.3-10.12c.05,5.46.23,10.49.53,15.02,5.04,2.09,23.58,11.55,22.23,36.82,3.5,1.24,7.35,2.18,11.71,2.86-.27-.46-.55-.92-.81-1.39Z"/>

          <path *ngIf="selectedParts | includes : 'left_rear_lamp'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m58.58,254.13c.51,6.57,1.31,12.03,2.4,16.21,1.12,4.31,2.55,7.35,4.26,9.02,3.79,3.69,8.2,6.51,13.44,8.62.9-22.52-14.46-31.37-20.1-33.84Z"/>
          <path id="left_rear_lamp" data-name="left rear lamp" class="cls-1"
                d="m58.58,254.13c.51,6.57,1.31,12.03,2.4,16.21,1.12,4.31,2.55,7.35,4.26,9.02,3.79,3.69,8.2,6.51,13.44,8.62.9-22.52-14.46-31.37-20.1-33.84Z"/>

          <path *ngIf="selectedParts | includes : 'trunk'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m142.92,286.17c3.47-7.35,5.16-15.42,6.01-23.46-5.85,10.49-18.64,13.16-34.35,12.87-10.61-.35-23.32-2.57-28.9-12.69,1.09,10.11,3.51,20.57,9.34,29.08,7.29.92,15.42,1.05,22.24,1.05,6.86,0,15.04-.12,22.35-1.06,1.26-1.83,2.37-3.76,3.31-5.77Z"/>
          <path id="trunk" class="cls-1"
                d="m142.92,286.17c3.47-7.35,5.16-15.42,6.01-23.46-5.85,10.49-18.64,13.16-34.35,12.87-10.61-.35-23.32-2.57-28.9-12.69,1.09,10.11,3.51,20.57,9.34,29.08,7.29.92,15.42,1.05,22.24,1.05,6.86,0,15.04-.12,22.35-1.06,1.26-1.83,2.37-3.76,3.31-5.77Z"/>

          <path *ngIf="selectedParts | includes : 'right_rear_lamp'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m154.96,288.32c5.64-2.14,10.33-5.09,14.31-8.97,1.72-1.67,3.15-4.71,4.26-9.01,1.12-4.29,1.93-9.79,2.44-16.59-4.63,1.83-22.15,10.4-21.01,34.57Z"/>
          <path id="right_rear_lamp" data-name="right rear lamp" class="cls-1"
                d="m154.96,288.32c5.64-2.14,10.33-5.09,14.31-8.97,1.72-1.67,3.15-4.71,4.26-9.01,1.12-4.29,1.93-9.79,2.44-16.59-4.63,1.83-22.15,10.4-21.01,34.57Z"/>

          <path *ngIf="selectedParts | includes : 'right_front_wheel'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m204.02,46.95c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>
          <path id="right_front_wheel" data-name="right front wheel" class="cls-1"
                d="m204.02,46.95c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>

          <path *ngIf="selectedParts | includes : 'left_front_wheel'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m30.47,46.95c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>
          <path id="left_front_wheel" data-name="left front wheel" class="cls-1"
                d="m30.47,46.95c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>

          <path *ngIf="selectedParts | includes : 'right_rear_wheel'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m204.02,208.06c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>
          <path id="right_rear_wheel" data-name="right rear wheel" class="cls-1"
                d="m204.02,208.06c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>

          <path *ngIf="selectedParts | includes : 'left_rear_wheel'" data-name="front windshield" class="cls-1" style="opacity: 1"
                d="m30.47,208.06c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>
          <path id="left_rear_wheel" data-name="left rear wheel" class="cls-1"
                d="m30.47,208.06c-13.1,0-23.72,10.62-23.72,23.72s10.62,23.72,23.72,23.72,23.72-10.62,23.72-23.72-10.62-23.72-23.72-23.72Zm0,36.11c-6.83,0-12.39-5.56-12.39-12.39s5.56-12.39,12.39-12.39,12.39,5.56,12.39,12.39-5.56,12.39-12.39,12.39Z"/>
        </g>
      </svg>
    </div>
    <div *ngIf="step === 1" class="flex justify-content-center align-items-center flex-1">
      {{ 'car-crash.damaged-parts.upload-images.info' | transloco }}
    </div>
  </div>

  <app-form-errors *ngIf="submitted" [control]="formControl"></app-form-errors>
</div>

<app-input-section
  [title]="step === 0 ? ('car-crash.damaged-parts.title' | transloco) : 'car-crash.damaged-parts.upload-images' | transloco"
  [info]="'car-crash.damaged-parts.info' | transloco"
  [buttonName]="'car-crash.shared.next' | transloco" [disabledButton]="((value$ | async)?.selectedParts || []).length === 0"
  (next)="next.emit()"
  (back)="back.emit()">


  <app-file-upload
    *ngIf="step === 1"
    [error]="!formControl.valid && submitted"
    [uploadedFileIds]="file_ids"
    (fileUploaded)="onFileUpload($event)"
    (fileDeleted)="onFileDelete($event)"
    class="flex-1 flex align-items-center"
  ></app-file-upload>

</app-input-section>
